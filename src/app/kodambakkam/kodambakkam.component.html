<!-- <div class="loading-indicator" *ngIf="showProgress">
  <p-progressSpinner></p-progressSpinner>
</div> -->

<div class="loading-con" *ngIf="showProgress">
  <div class="center">
      <div class="ring"></div>
      <span>Loading...</span>
</div>
</div>

<!-- *ngIf="!loginDetail && mainDetail" -->
<div *ngIf="!showProgress" >
  <p-calendar *ngIf="showCal" (onSelect)="dateSelected($event)"  [(ngModel)]="dateCalc" [inline]="true" [showWeek]="false"></p-calendar>
  <!-- header="Predict Packet Price " -->
  <p-dialog [closable]="false" [draggable]="true" [resizable]="true" [maximizable]="true"  [(visible)]="paperPredict" [style]="{width: '50vw'}">
    <ng-template pTemplate="header">
<p style="font-weight : bold; font-size: medium;">{{this.customers[0].Date|date}}| <b>Total-Days:</b>{{totalWorkingDaysMonth}}</p>
<!-- <p-calendar  (onSelect)="predictDateSelected($event)"  [(ngModel)]="predictDate" [inline]="true" [showWeek]="false"></p-calendar> -->
<p-calendar (onSelect)="predictDateSelected($event)" [(ngModel)]="predictDate" [showIcon]="true"></p-calendar>
<p-button (click)="loadPage()" icon="pi pi-times" styleClass="p-button-rounded p-button-danger"></p-button>
</ng-template>
    
    <ng-template pTemplate="body">
      <div style="display: grid; grid-template-columns : 1fr 1fr 1fr;     box-shadow: 0 1px 3px 0 rgb(0 0 0 / 30%) !important;
      border-radius: 20px;  text-align : center; "  >
        <p style=" font-weight: bold; color: wheat; border:1px solid wheat" >Number of remaining packets:<span style="font-size: x-large; color : #36f4ec;"> {{paperCurrent/500}}</span> </p>  
        <p style="font-weight: bold;border:1px solid wheat">Current Month Excess Criteria:<span style="font-size: x-large; color : #36f4ec;"> {{excessCurrent}}</span>paisa</p>
        <p style="font-weight: bold; color: wheat;border:1px solid wheat">Preditcable for<span style="font-size: medium; color : #36f4ec;"> {{excessCurrent}} </span>paisa is :<span style="font-size: medium; color : #36f4ec;"> Rs.{{excessDemo}}</span> for Stock- <span style="font-size: medium; color : #36f4ec;">{{paperCurrent/500}} </span>packets.(<span style="font-size: medium; color : #36f4ec;">{{packetFuture}}</span>packets -<span style="font-size: medium; color : #36f4ec;"> Rs.{{excessTotal}}</span>)</p>
      </div>
      <p style="font-weight: bold;color : white; text-align : center">Income Till Date : Rs.<span style="font-size: x-large; color : #36f4ec;">{{incomeCurrent}}</span>|i.e,(Average Rs.<span style="font-size: x-large; color : #36f4ec;">{{averageIncome}}</span>)|for <span style="font-size: x-large; color : #36f4ec;">{{paperTillDate}}</span>packets Used in <span style="font-size: x-large; color : #36f4ec;">{{doneDay}}</span>days </p>

      <p style=" color: yellow; font-weight: bold; text-align : center"> Average Packets Used in <span style="font-size: x-large; color : #36f4ec;">{{doneDay}} </span>days is <span style="font-size: x-large; color : #36f4ec;">{{averagePacketUsed}}</span>packets | 
      
        Balance Working Day in this Month is<span style="font-size: x-large; color : #36f4ec;"> {{balanceWorkingDay}} </span>days X <span style="font-size: x-large; color : #36f4ec;"> {{averagePacketUsed}}</span>packets = <span style="font-size: x-large; color : #36f4ec;"> {{packetFuture}} </span>packets
      </p>
      <div style="display: grid; grid-template-columns : 1fr 1fr 1fr;     box-shadow: 0 1px 3px 0 rgb(0 0 0 / 30%) !important;
      border-radius: 20px; text-align : center">
        <p style="color: yellow;font-weight: bold; border:1px solid wheat">Shortage/Excess Packets: <span style="font-size: x-large; color : #36f4ec;">{{shortDay}} </span>packets 
          
          <button  *ngIf="shortDay > 0" pButton label="Excess" class="p-button-raised" icon="pi pi-money-bill" (click)="overlaypanel22.show($event)"></button>
        
          <p-overlayPanel #overlaypanel22>
            <p-table [rows]="20"
           responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true"  [loading]="loading" styleClass="p-datatable-gridlines"
          [paginator]="true" 
           [value]="prices2">
            <ng-template pTemplate="header">
              <tr>
                <th>Price per sheet (paisa)</th>
                <th>price-remaining packets (Rs.)</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-price>
              <tr>
                <td>{{ price.sheetPrice }} paisa</td>
                <td>Rs. {{ price.packetPrice }}</td>
              </tr>
            </ng-template>
          </p-table>  
          </p-overlayPanel>


        </p>


        <p style="font-weight: bold;border:1px solid wheat;">Approximate End Date of <span style="font-size: x-large; color : #36f4ec;">{{paperCurrent/500}} </span>packets is <span style="font-size: x-large; color : #36f4ec;">{{balanceDays}}days</span> </p>
         <p style="color: yellow;font-weight: bold;border:1px solid wheat;">DEADLINE OF PAPER ENDING : <span style="font-size: x-large; color : #36f4ec;">{{dayExact | date}}</span> </p>

      </div>

      <div style="display: grid; grid-template-columns : 1fr 1fr 1fr;     box-shadow: 0 1px 3px 0 rgb(0 0 0 / 30%) !important;
      border-radius: 20px; text-align : center">
        <p style="color: yellow;font-weight: bold; border:1px solid wheat">Money Cutoff: Rs<span style="font-size: x-large; color : #36f4ec;">{{minimumCutoffMoney}} </span>/day 
          
        <br>
        <span style="font-weight: bold;">Profit : Rs.<span style="font-size: x-large; color : #36f4ec;">{{profitCameTill}}/day </span></span>
        </p>


        <p style="font-weight: bold;border:1px solid wheat;">Cash Money :<span style="font-size: x-large; color : #36f4ec;">{{totalCash}} </span>
          <br>
          <span style="font-weight: bold;">Total Profit : Rs.<span style="font-size: x-large; color : #36f4ec;">{{profitEstimateTotal}} </span></span>
        
        </p>
         <p style="color: yellow;font-weight: bold;border:1px solid wheat;">Paytm Money :<span style="font-size: x-large; color : #36f4ec;">{{totalPaytm}}</span> </p>

      </div>
      <div style="display: grid; grid-template-columns : 1fr 1fr 1fr;     box-shadow: 0 1px 3px 0 rgb(0 0 0 / 30%) !important;
      border-radius: 20px; text-align : center">
        <!-- <p style="color: yellow;font-weight: bold; border:1px solid wheat">B/W COPIES<span style="font-size: x-large; color : #36f4ec;">{{predictBlackcopies}} </span> 
          
        <br> -->
        <p style="color: yellow;font-weight: bold; border:1px solid wheat">Color Copies<span style="font-size: x-large; color : #36f4ec;">{{predictColorcopies}} </span> 
          
          <br>
        <!-- <span style="font-weight: bold;">Color Copies<span style="font-size: x-large; color : #36f4ec;">{{predictColorcopies}}</span></span>
        </p> -->
        <span style="font-weight: bold;">Color Income<span style="font-size: x-large; color : #36f4ec;">{{predictColorcopies*9}}</span></span>
        </p>

        <p style="font-weight: bold;border:1px solid wheat;">B/W COPIES<span style="font-size: x-large; color : #36f4ec;">{{predictBlackcopies}} </span>
          <br>
          <!-- <span style="font-weight: bold;">b/w&binding income<span style="font-size: x-large; color : #36f4ec;">{{incomeCurrent - (predictColorcopies*9) }} </span></span>
        
        </p> -->
        <span style="font-weight: bold;">C/B-income<span style="font-size: x-large; color : #36f4ec;">{{incomeCurrent - (predictColorcopies*9) }} </span></span>
        
      </p>
         <p style="color: yellow;font-weight: bold;border:1px solid wheat;">Paper Sheet :<span style="font-size: x-large; color : #36f4ec;">{{papersheetPredict}}</span>
        <br>
        <p-inputNumber [(ngModel)]="b2bRate" inputId="locale-user" [minFractionDigits]="2"></p-inputNumber><p-button icon="pi pi-check" (click)="btnrate()" styleClass="p-button-rounded"></p-button>
        
        </p>

      </div>

      <div style="display: grid; grid-template-columns : 1fr 1fr 1fr;     box-shadow: 0 1px 3px 0 rgb(0 0 0 / 30%) !important;
      border-radius: 20px; text-align : center">
        <p style="color: yellow;font-weight: bold; border:1px solid wheat">Paper copy ratio:<span style="font-size: x-large; color : #36f4ec;">{{copyratio.toFixed(2)}} </span>
          
        <br>
        <span style="font-weight: bold;">Paper Rate ratio:<span style="font-size: x-large; color : #36f4ec;">{{rateratio.toFixed(2)}} </span></span>
        </p>


        <p style="font-weight: bold;border:1px solid wheat;">Xerox Income<span style="font-size: x-large; color : #36f4ec;">{{predictCopyRate}} </span>
          <br>
          <span style="font-weight: bold;">Binding Income<span style="font-size: x-large; color : #36f4ec;">{{(incomeCurrent - (predictColorcopies*9))-predictCopyRate}} </span></span>
        
        </p>
       
         <p  style="color: yellow;font-weight: bold;border:1px solid wheat;">Total Income<span style="font-size: x-large; color : #36f4ec;">{{incomeCurrent}}</span>
         <br *ngIf="showProfit">
         <span *ngIf="showProfit" style="font-weight: bold;">Xerox Profit<span  style="font-size: x-large; color : #36f4ec;">{{blackProfit}} </span></span>
         <br *ngIf="showProfit">
          <span *ngIf="showProfit" style="font-weight: bold;">Color/bind Profit<span   style="font-size: x-large; color : #36f4ec;">{{colbindProfit}} </span></span>
          <br *ngIf="showProfit">
          <span *ngIf="showProfit" style="font-weight: bold;">Total Profit<span style="font-size: x-large; color : #36f4ec;">{{profitAll}} </span></span>
          <p-button *ngIf="showProfit" icon="pi pi-cog" (click)="recalculateProfit()" styleClass="p-button-rounded"></p-button>
        </p>
        
      </div>
<div style="display: grid; grid-template-columns: 1fr 1fr ; gap: 16px;">
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Paper"> 
      <label for="inputtext">Paper</label>
  </span>

    <p-selectButton  [options]="optionPaper" [(ngModel)]="predictionObj.PaperPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText
       [(ngModel)]="predictionObj.Salary"> 
      <label for="inputtext">Salary</label>
  </span>

    <p-selectButton [options]="optionSalary" [(ngModel)]="predictionObj.SalaryPending"  optionLabel="label" optionValue="value"></p-selectButton>
    <!-- (click)="overlaypanelSalary.show($event)" -->
    <button  (click)="salaryOpen2=true"  pButton pRipple type="button" icon="pi pi-sitemap" class="p-button-rounded"></button>
    
    <p-dialog [closable]="false" [draggable]="true" [resizable]="true" [maximizable]="true"  [(visible)]="salaryOpen2" [style]="{width: '50vw'}">
  
      <div style="display: grid; grid-template-rows: 2fr 1fr;">


        <div style="display: grid; grid-template-rows: 1fr 1fr 1fr 1fr 1fr;">
    <div class="four-column">
    
      <p>TAJ</p>
    
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
    
        <label for="minmaxfraction">Leave</label>
        <p-inputNumber [(ngModel)]="tajLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>
      </span>
    
      <button (click)="calculateSalary('taj')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
    
        <label for="integeronly">Salary</label>
        <p-inputNumber  [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="tajCalculate">
        </p-inputNumber>
      </span>
    
    
    </div>
    <div class="four-column">
    
      <p>NOOR</p>
    
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
    
        <label for="minmaxfraction">Leave</label>
        <p-inputNumber    [(ngModel)]="noorLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>
      </span>
    
      <button (click)="calculateSalary('noor')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
    
        <label for="integeronly">Salary</label>
        <p-inputNumber    [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="noorCalculate">
        </p-inputNumber>
      </span>
    
    </div>
    <div class="four-column">
      <p>ASSAN</p>
    
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
    
        <label for="minmaxfraction">Leave</label>
        <p-inputNumber  [(ngModel)]="assanLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>
      </span>
    
      <button (click)="calculateSalary('assan')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
    
        <label for="integeronly">Salary</label>
        <p-inputNumber   [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="assanCalculate">
        </p-inputNumber>
      </span>
    
    </div>
    <div class="four-column">
      <p>RASHEED</p>
    
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
    
        <label for="minmaxfraction">Leave</label>
        <p-inputNumber   [(ngModel)]="rasheedLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>
      </span>
    
      <button (click)="calculateSalary('rasheed')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
    
        <label for="integeronly">Salary</label>
        <p-inputNumber   [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="rasheedCalculate">
        </p-inputNumber>
      </span>
    
    </div>
    <div class="four-column">
      <p>MANI</p>
    
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
    
        <label for="minmaxfraction">Leave</label>
        <p-inputNumber   [(ngModel)]="maniLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>
      </span>
    
      <button (click)="calculateSalary('mani')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
      <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
    
        <label for="integeronly">Salary</label>
        <p-inputNumber  [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="maniCalculate">
        </p-inputNumber>
      </span>
    
    </div>
    
        </div>
    
        <div>
          <button  (click)="saveSalary()" pButton pRipple type="button" icon="pi pi-file" class="p-button-rounded"></button>
    
    
        </div>
      </div>
  
    </p-dialog>
    
    <!-- <p-overlayPanel #overlaypanelSalary> -->
      <!-- <p-dialog [closable]="true" [draggable]="true" [resizable]="true" [maximizable]="true"  [(visible)]="paperPredict" [style]="{width: '50vw'}"> -->

  <!-- </p-dialog> -->
  <!-- </p-overlayPanel> -->


  
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Toner"> 
      <label for="inputtext">Toner</label>
  </span>

    <p-selectButton [options]="optionToner" [(ngModel)]="predictionObj.TonerPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Kl"> 
      <label for="inputtext">KL Enterprises</label>
  </span>

    <p-selectButton [options]="optionKl" [(ngModel)]="predictionObj.KlPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Vadapalani"> 
      <label for="inputtext">Vadapalani Bai</label>
  </span>

    <p-selectButton [options]="optionVadapalani"  [(ngModel)]="predictionObj.VadapalaniPending"optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()" type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.David"> 
      <label for="inputtext">David</label>
  </span>

    <p-selectButton [options]="optionDavid" [(ngModel)]="predictionObj.DavidPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"   type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.RentTpm"> 
      <label for="inputtext">Tpm Rent</label>
  </span>

    <p-selectButton [options]="optionRentTpm" [(ngModel)]="predictionObj.RentTpmPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()" type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.RentAshref"> 
      <label for="inputtext">Ashref Rent</label>
  </span>

    <p-selectButton [options]="optionRentAshref" [(ngModel)]="predictionObj.RentAshrefPending"  optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.RentNoushad"> 
      <label for="inputtext">Noushad Rent</label>
  </span>

    <p-selectButton [options]="optionRentNoushad" [(ngModel)]="predictionObj.RentNoushadPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()" type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Rent2"> 
      <label for="inputtext">Rent 2 Kdm</label>
  </span>

    <p-selectButton [options]="optionRent2" [(ngModel)]="predictionObj.Rent2Pending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Current"> 
      <label for="inputtext">Current</label>
  </span>

    <p-selectButton [options]="optionCurrent" [(ngModel)]="predictionObj.CurrentPending"  optionLabel="label" optionValue="value"></p-selectButton>
  </div>
  <div class="prediction">

    <span class="p-float-label">
      <input (input)="predictInput()"  type="number" id="inputtext" pInputText [(ngModel)]="predictionObj.Others"> 
      <label for="inputtext">Others</label>
  </span>

    <p-selectButton [options]="optionOthers" [(ngModel)]="predictionObj.OthersPending" optionLabel="label" optionValue="value"></p-selectButton>
  </div>

</div>

      <!-- Define the overlaypanel component -->




    
    </ng-template>


    <ng-template pTemplate="footer">
        <!-- <p-button icon="pi pi-check" (click)="displayBasic=false" label="Ok" styleClass="p-button-text"></p-button> -->
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
      <button pButton label="table" class="p-button-raised" icon="pi pi-cog" (click)="overlaypanel.show($event)"></button>
      <!-- <button pButton  class="p-button-raised" ></button> -->

      <button pButton *ngIf="notExecuted"  icon="pi pi-money-bill" (click)="executePredict()" pRipple type="button" label="Execute" class="p-button-rounded p-button-danger"></button>
      <button pButton *ngIf="!notExecuted"  icon="pi pi-money-bill" (click)="overlaypanelPredict.show($event)" pRipple type="button" label="Output" class="p-button-rounded p-button-success"></button>



      <button pButton (click)="savePredictObj()" class="p-button-raised" icon="pi pi-file"></button>

        
      <p-overlayPanel #overlaypanel>
        <p-table [rows]="20"
       responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true"  [loading]="loading" styleClass="p-datatable-gridlines"
      [paginator]="true" 
       [value]="prices">
        <ng-template pTemplate="header">
          <tr>
            <th>Price per sheet (paisa)</th>
            <th>price-remaining packets (Rs.)</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-price>
          <tr>
            <td>{{ price.sheetPrice }} paisa</td>
            <td>Rs. {{ price.packetPrice }}</td>
          </tr>
        </ng-template>
      </p-table>  
      </p-overlayPanel>

      <!-- this.predictPrices.push({sheetPrice : price/100,packetPrice : packetPrice2 ,
 
        incomePaid : this.incomeCurrent-this.totalPaid, pendingPredict : packetPrice2 - this.totalPending,totalPredict : total })
       this.prices.push({sheetPrice : price/100, packetPrice : packetPrice2 }) -->
      
      <p-overlayPanel #overlaypanelPredict>

    <p style="color : green ;">Income So Far : Rs.{{incomeCurrent}} | Amount Paid : Rs.{{totalPaid}} | Amount Pending : Rs.{{totalPending}}||Current Month Excess Criteria: {{excessCurrent}}paisa</p> 
    <button  (click)="closePredict(overlaypanelPredict)" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded"></button>

    <!-- <p-steps [model]="items4"    [(activeIndex)]="indexpredict" [readonly]="false"></p-steps> -->
    <p-scrollPanel [style]="{ height: '400px' }">

      <p-table responsiveLayout="scroll" [rows]="20"
      responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true"  [loading]="loading" styleClass="p-datatable-gridlines"
     [paginator]="true" 
      [value]="predictPrices">
       <ng-template pTemplate="header">
         <tr>
           <th>Price per sheet for {{balanceWorkingDay}}days</th>
           <th>Amount-remaining packets (Rs.)</th>
           <th>Old Income - Paid</th>
           <th>Future Income - Pending</th>
           <th>Estimated Profit</th>
           
         </tr>
       </ng-template>
       <ng-template pTemplate="body" let-price>
         <tr>
           <td style="font-size: 15px;">{{ price.sheetPrice }} paisa-- Rs.{{ price.averageIncome}}</td>
           <td style="font-size: 15px;">Rs. {{ price.packetPrice }}</td>
         <td style="color: blueviolet; font-weight: bold; font-size: 15px;">Rs.{{ price.incomePaid }}</td>
           <td style="color : red;  font-weight: bold; font-size: 15px;">Rs. {{ price.pendingPredict }}</td>
           <td style="color: green;  font-weight: bold; font-size: 15px;">Rs.{{ price.totalPredict }} </td>
         
         </tr>
       </ng-template>
     </p-table>  

      </p-scrollPanel>

      <!-- *ngIf="indexpredict==0"  -->
 


<!-- 
      
      <p-table *ngIf="indexpredict==1" responsiveLayout="scroll" [rows]="20"
      responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true"  [loading]="loading" styleClass="p-datatable-gridlines"
     [paginator]="true" 
      [value]="twopredict">
       <ng-template pTemplate="header">
         <tr>
           <th>Price per sheet for {{balanceWorkingDay}}days</th>
           <th>Amount-remaining packets (Rs.)</th>
           <th>Old Income - Paid</th>
           <th>Future Income - Pending</th>
           <th>Estimated Profit</th>
           
         </tr>
       </ng-template>
       <ng-template pTemplate="body" let-price>
         <tr>
           <td style="font-size: 15px;">{{ price.sheetPrice }} paisa-- Rs.{{ price.averageIncome}}</td>
           <td style="font-size: 15px;">Rs. {{ price.packetPrice }}</td>
         <td style="color: blueviolet; font-weight: bold; font-size: 15px;">Rs.{{ price.incomePaid }}</td>
           <td style="color : red;  font-weight: bold; font-size: 15px;">Rs. {{ price.pendingPredict }}</td>
           <td style="color: green;  font-weight: bold; font-size: 15px;">Rs.{{ price.totalPredict }} </td>
         
         </tr>
       </ng-template>
     </p-table>   -->


      </p-overlayPanel>


    </div>
    


      </ng-template>
</p-dialog>
<p-scrollPanel [style]="{ height: '800px' }">

  <p-table  *ngIf="!showCal" #dt1 [value]="customers" dataKey="id"
           [rows]="100"
           [(selection)]="selectedAccounts" responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true"  [rowsPerPageOptions]="[100,150,200]" [loading]="loading" styleClass="p-datatable-gridlines"
           [paginator]="true" [filterDelay]="0" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
           [globalFilterFields]="['Date','country.name','representative.name','status']">
    <ng-template pTemplate="caption">
      <div class="flex" style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr;">
        <div>
          <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>

        </div>
        <div class="title-class"><h3 (click)="nameClicked()" >KODAMBAKKAM</h3>
          <button *ngIf="showButton"  (click)="salaryOpen=true" pButton pRipple type="button" icon="pi pi-sitemap" class="p-button-rounded"></button>
         
          <p-dialog [closable]="true" [draggable]="true" [resizable]="true" [maximizable]="true"  [(visible)]="salaryOpen" [style]="{width: '50vw'}">
          
                  
        <div style="display: grid; grid-template-rows: 2fr 1fr;">
      
      
          <div style="display: grid; grid-template-rows: 1fr 1fr 1fr 1fr 1fr;">
      <div class="four-column">
      
        <p>TAJ</p>
      
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
      
          <label for="inputtext">Leave</label>
          <p-inputNumber  [(ngModel)]="tajLeave" inputId="inputtext" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
          </p-inputNumber>
        </span>
      
        <button (click)="calculateSalary('taj')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
      
          <label for="integeronly">Salary</label>
          <p-inputNumber  [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="tajCalculate">
          </p-inputNumber>
        </span>
      
      
      </div>
      <div class="four-column">
      
        <p>NOOR</p>
      
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
      
          <label for="minmaxfraction">Leave</label>
          <p-inputNumber  [(ngModel)]="noorLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
          </p-inputNumber>
        </span>
      
        <button (click)="calculateSalary('noor')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
      
          <label for="integeronly">Salary</label>
          <p-inputNumber   [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="noorCalculate">
          </p-inputNumber>
        </span>
      
      </div>
      <div class="four-column">
        <p>ASSAN</p>
      
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
      
          <label for="minmaxfraction">Leave</label>
          <p-inputNumber  [(ngModel)]="assanLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
          </p-inputNumber>
        </span>
      
        <button (click)="calculateSalary('assan')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
      
          <label for="integeronly">Salary</label>
          <p-inputNumber   [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="assanCalculate">
          </p-inputNumber>
        </span>
      
      </div>
      <div class="four-column">
        <p>RASHEED</p>
      
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
      
          <label for="minmaxfraction">Leave</label>
          <p-inputNumber  [(ngModel)]="rasheedLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
          </p-inputNumber>
        </span>
      
        <button (click)="calculateSalary('rasheed')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
      
          <label for="integeronly">Salary</label>
          <p-inputNumber  [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="rasheedCalculate">
          </p-inputNumber>
        </span>
      
      </div>
      <div class="four-column">
        <p>MANI</p>
      
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;">
      
          <label for="minmaxfraction">Leave</label>
          <p-inputNumber  [(ngModel)]="maniLeave" inputId="minmaxfraction" mode="decimal" [minFractionDigits]="2" [maxFractionDigits]="2">
          </p-inputNumber>
        </span>
      
        <button (click)="calculateSalary('mani')"  pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded"></button>
        <span style="display: grid;grid-template-rows: 0.2fr 0.4fr;" >
      
          <label for="integeronly">Salary</label>
          <p-inputNumber  [disabled]="true" inputId="integeronly"  mode="decimal"  [(ngModel)]="maniCalculate">
          </p-inputNumber>
        </span>
      
      </div>
      
          </div>
      
          <div>
            <!-- <button  (click)="saveSalary(overlaypanelSalary)" pButton pRipple type="button" icon="pi pi-file" class="p-button-rounded"></button> -->
      TOTAL : {{tajCalculate + noorCalculate + assanCalculate + maniCalculate + rasheedCalculate}}
      
          </div>
        </div>
          
          </p-dialog>
         
         
         
 
          <button *ngIf="showButton"  pButton pRipple (click)="calClicked()" type="button" icon="pi pi-calendar" class="p-button-rounded"></button>
          <button *ngIf="showButton"  pButton pRipple type="button" (click)="checkPaperRemaining(0)" icon="pi pi-qrcode" class="p-button-rounded p-button-success"></button>

        </div>
        <!-- <span class="p-input-icon-left ml-auto">
            <i class="pi pi-search"></i>
             <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Search keyword" />
        </span> -->


        <div style="margin-left: 50%" *ngIf="wholeDeleteShow">
          <button (click)="deleteAllEntryConfirm()" pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger"></button>

          <p-dialog header="Sure Delete" [closable]="true" [(visible)]="deleteCheck2" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
          [draggable]="true" [resizable]="true">
        
          <ng-template pTemplate="footer">
            <div style="display:grid; grid-template-columns:1fr 1fr;">
        
              <div>
                <p-button icon="pi pi-times" (click)="cancelDelete2()" label="Canel" class="p-button-raised p-button-danger"></p-button>
        
              </div>
        
        
              <div>
                <p-button icon="pi pi-check" (click)="sureDelete2()" label="Save" class="p-button-raised p-button-success"></p-button>
        
              </div>
        
            </div>
          </ng-template>
        
        </p-dialog>
        </div>
        <div style="margin-left: 30%" *ngIf="wholeInfoShow && adminAccess">
          <button (click)="showAllStatics()" pButton pRipple type="button" icon="pi pi-info" class="p-button-rounded p-button-warning"></button>

        </div>
        <div style="margin-left: 20%">
          <button pButton pRipple type="button" (click)="addAccounts()" icon="pi pi-plus" class="p-button-rounded p-button-success"></button>
          <!-- <span *ngIf="adminCheck" style="margin-left: 30%" class="p-float-label">
         
            <p-inputNumber  inputId="inputnumber" (onInput)="adminGo($event)" autocomplete="off" [(ngModel)]="adminKey"></p-inputNumber>
            <label style="color: red; font-size: 15px;" for="inputnumber">
              Kodambakkam
            </label>
          </span> -->
        
        
        </div>



        <div *ngIf="adminAccess" style="margin-left: 30%">
          <button pButton pRipple type="button" label="labour" (click)="labourTable()" icon="pi pi-cog" class="p-button-rounded p-button-success"></button>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="header">





      <tr>
        <th *ngIf="adminAccess" style="width: 3rem">
          <p-tableHeaderCheckbox (click)="checkBoxx()"></p-tableHeaderCheckbox>
        </th>
        <th>
          <div class="flex justify-content-center align-items-center">
            Date
            <p-columnFilter type="date" field="Date" display="menu"></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex justify-content-center align-items-center">
            Day
          </div>
        </th>
        <!-- <th>
          <div class="flex justify-content-center align-items-center">
            Black1

          </div>
        </th>
        <th>
          <div class="flex justify-content-center align-items-center">
            Day
          </div>
        </th> -->

        <!-- <th *ngIf="adminAccess" style="width: 3rem">
          <p-tableHeaderCheckbox (click)="checkBoxx()"></p-tableHeaderCheckbox>
        </th>
        <th *ngIf="!adminAccess" style="width: 3rem">
          Colour
        </th> -->
        <th>
          <div class="flex justify-content-center align-items-center">
            Paper
          </div>
        </th>

        <th>
          <div class="flex justify-content-center align-items-center">
            Excess
          </div>
        </th>
        <!-- <th>
          <div class="flex justify-content-center align-items-center">
            Date
            <p-columnFilter type="date" field="Date" display="menu"></p-columnFilter>
          </div>
        </th> -->
        <th>
          <div class="flex justify-content-center align-items-center">
            Print

          </div>
        </th>

        <th *ngIf="adminAccess">
          <div class="flex justify-content-center align-items-center">
            Analysis

          </div>
        </th>
        <th>
          <div class="flex justify-content-center align-items-center">
            Income

          </div>
        </th>
        <!-- <th>
            <div class="flex justify-content-center align-items-center">
                Activity

            </div>
        </th> -->
        <th style="width: 8rem">
          <div class="flex justify-content-center align-items-center">
            Delete

          </div>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>


   




      <tr>
        <td *ngIf="adminAccess">
          <!-- <p-tableCheckbox (click)="checkBoxx()" [value]="tableCheckBox"></p-tableCheckbox> -->
          <p-tableHeaderCheckbox (click)="checkBoxx()"></p-tableHeaderCheckbox>
        </td>
        <td>
          {{customer.Date | date: 'dd/MM/yyyy'}}
        </td>
        <td>
          {{customer.Day}}
        </td>
        <!-- <td>
          <span class="image-text">{{customer.BlackMachineReading1}}</span>
        </td>
        <td>
          {{customer.Day}}
        </td> -->

        <!-- <td *ngIf="adminAccess">
          <p-tableHeaderCheckbox (click)="checkBoxx()"></p-tableHeaderCheckbox>
        </td>
        <td *ngIf="!adminAccess">

          {{customer.ColourCopies}}
        </td> -->

        <td style="width : 50px;">
<div style="display: grid; grid-template-columns : 1fr 1fr; gap : 8px;">
  {{(customer.PaperSoldToday /500).toFixed(2)}}Packet({{customer.PaperSoldToday}})

  <i class="pi pi-info"  style="cursor : pointer" (click)="op.toggle($event)" style="font-size: 1.2rem"></i>
</div>





          <p-overlayPanel #op >
            <ng-template pTemplate>
   Black Reading : {{customer.BlackCopies}}
   Colour Reading : {{customer.ColourCopies}}
            </ng-template>
          </p-overlayPanel>
          <!-- <p-dropdown [options]="dropdownOptions(customer)" [(ngModel)]="selectedOptions" placeholder="Select a City" optionLabel="name" [showClear]="true"></p-dropdown> -->
       
        </td>

        <td>
          Rs.{{(customer.TotalIncome/customer.PaperSoldToday).toFixed(2)}}({{((customer.TotalIncome-customer.Bindings-(customer.ColourCopies*10)-300)/customer.PaperSoldToday).toFixed(2)}})
        </td>
<!-- 
        <td>
          {{cus(tomer.)Date | date: 'dd/MM/yyyy'}}
        </td> -->
        <td>
          <button pButton pRipple (click)="editAccount2(customer.id)" type="button" icon="pi pi-print" class="p-button-rounded p-button-info"></button>
        </td>
        <td *ngIf="adminAccess">
          <button pButton pRipple (click)="singleAnalysis(customer)" type="button" icon="pi pi-chart-bar" class="p-button-rounded p-button-info"></button>
        </td>


        <td>
          {{customer.TotalIncome }}
        </td>

        <!-- <td>
            <p-progressBar [value]="customer.activity" [showValue]="false"></p-progressBar>
        </td> -->
        <td class="text-center">
          <div style="display: grid; grid-template-columns: 1fr 1fr;">
            <button pButton pRipple type="button" (click)="deleteConfirm(customer.id,customer.GetTime)"  icon="pi pi-trash" class="p-button-rounded p-button-danger"></button>
            <!-- (click)="deleteAccount(customer.id,customer.GetTime)"  -->
          
          </div>



        </td>
      </tr>



  

    </ng-template>


    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="7">No Records found.</td>
      </tr>
    </ng-template>



  </p-table>

  
</p-scrollPanel>


  <p-dialog header="Sure Delete" [closable]="true" [(visible)]="deleteCheck" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">

            <ng-template pTemplate="footer">
              <div style="display:grid; grid-template-columns:1fr 1fr;">

                <div>
                  <p-button icon="pi pi-times" (click)="cancelDelete()" label="Canel" class="p-button-raised p-button-danger"></p-button>

                </div>


                <div>
                  <p-button icon="pi pi-check" (click)="sureDelete()" label="Save" class="p-button-raised p-button-success"></p-button>

                </div>

              </div>
            </ng-template>

  </p-dialog>
  <p-dialog header="Account Details" [closable]="false" [(visible)]="isViewAccountDetail" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">

    <div class="main-edit" style="display: grid; grid-template-columns: 0.5fr 0.8fr;">

      <div>
        <p-chart type="doughnut" [data]="dataIncome" [options]="chartOptions" [style]="{'width': '10px'}"></p-chart>
        <div style="color: blue;" class="column2">Total Income : {{kdmAccountDetail.TotalIncome}}</div>
        <!-- <br> -->
        <div style="color: red;" class="column2">Expenses  : {{kdmAccountDetail.Expenses}}</div>
        <!-- <br> -->
        <div style="color: green;" class="column2">NetProfit  : {{kdmAccountDetail.NetProfit}}</div>

        <div class="column2">Excess Criteria  : {{excessReach1}}</div>

        <div class="column2">Paper Sheets : {{kdmAccountDetail.PaperSoldToday}}</div>

        <div class="column2">Single Copies : {{singleSideCopies1}}</div>

        <div class="column2">B2B Copies : {{kdmAccountDetail.B2bCopies}}</div>

        <div class="column2">Colour Copies : {{kdmAccountDetail.ColourCopies}}</div>

        <div class="column2">Bindings : {{kdmAccountDetail.Bindings}}</div>
      </div>
      <div>

        <p-chart type="pie" [data]="dataCopies" [options]="chartOptions" [style]="{'width': '10px'}"></p-chart>

      </div>


    </div>



  </p-dialog>




  <p-dialog header=" Monthly Account Details" [closable]="false" [(visible)]="showAllStaticDetail" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">

    <p-steps [model]="items"
             [(activeIndex)]="allDetailIndex"
             [readonly]="true"></p-steps>



    <div *ngIf="allDetailIndex===0" class="main-edit" style="display: grid; grid-template-columns: 0.5fr 0.8fr;">

      <div>
        <p-chart type="doughnut" [data]="finalIncome" [options]="chartOptions" [style]="{'width': '10px'}"></p-chart>
        <div style="color: blue;" class="column2">Total Income : {{allAccountDetail.TotalIncome}}</div>
        <!-- <br> -->
        <div style="color: red;" class="column2">Expenses  : {{allAccountDetail.Expenses}}</div>
        <!-- <br> -->
        <div style="color: green;" class="column2">NetProfit  : {{allAccountDetail.NetProfit}}</div>

        <div class="column2">Excess Criteria  : {{excessreach2}}</div>

        <div class="column2">Paper Packets : {{wholePaperCount}}</div>

        <div class="column2">Total Black Copies : {{allAccountDetail.BlackCopies}}</div>

        <div class="column2">Single Copies : {{singleSideCopies1}}</div>

        <div class="column2">B2B Copies : {{allAccountDetail.B2bCopies}}</div>

        <div class="column2">Colour Copies : {{allAccountDetail.ColourCopies}}</div>

        <div class="column2">Bindings : {{allAccountDetail.Bindings}}</div>
      </div>
      <div>

        <p-chart type="pie" [data]="finalCopy" [options]="chartOptions" [style]="{'width': '10px'}"></p-chart>
        <div class="column2">Total Days : {{totalDays}} </div>

        <div class="column2">From {{startDate | date: 'dd/MM/yyyy' }} to {{endDate | date: 'dd/MM/yyyy' }}</div>
        <div class="column2">Income Per Day : {{averageIncome}}</div>
        <div class="column2"> Profit Per Day : {{averageProfit}}</div>
        <div class="column2"> Paper Per Day : {{paperPerDay}}</div>
        <div class="column2"> Black Per Day : {{blackPerDay}}</div>
        <div class="column2"> Colour Per Day : {{colourPerDay}}</div>
        <div class="column2"> binding Per Day : {{bindingPerDay}}</div>



      </div>


    </div>

    <div *ngIf="allDetailIndex===1" style="display: grid; grid-template-columns: 0.5fr 0.8fr;">
      <div>
        <p-chart type="doughnut" [data]="salaryChart" [options]="chartOptions" [style]="{'width': '10px'}"></p-chart>
        <div style="color: blue;" class="column2">Taj Present : {{allLabourDetail.TajPresent}}</div>
        <!-- <br> -->
        <div style="color: red;" class="column2">Noor Present : {{allLabourDetail.NoorPresent}}</div>

      </div>
    </div>
    <div *ngIf="allDetailIndex===2" style="display: grid; grid-template-columns: 0.5fr 0.8fr ;">

      <div>
        <br>
        CASH INCOME : {{this.allAccountDetail.TonerQuantityCame}}
        <hr>
      </div>
      <div>
        <br>
        PAYTM INCOME : {{this.allAccountDetail.TonerQuantitySent}}

        <hr>
      </div>
      <div>
        <br>
        PAPER CAME DATE : {{this.paperCameDate}}
        <hr>
      </div>
      <div>
        <br>
        TONER CAME DATE : {{this.tonerCameDate}}
        <hr>
      </div>
      <div>
        <br>
        ITEMS STOCKS INFO : {{this.totalItemCameDetail}}
        <hr>
      </div>

      <div style="color: blue;"><br>TOTAL INCOME : {{allAccountDetail.TotalIncome}}<hr></div>
      <!-- <br> -->
      <div style="color: red;"> <br> EXPENSES  : {{allAccountDetail.Expenses}}<hr></div>
      <!-- <br> -->
      <div style="color: green;"> <br>NETPROFIT  : {{allAccountDetail.NetProfit}}<hr></div>

      <div> <br>EXCESS CRITERIA  : {{excessreach2}}<hr></div>

      <div> <br>PAPER PACKETS: {{wholePaperCount}}<hr></div>
      <div> <br>PAPER SHEETS : {{wholePaperCount * 500}}<hr></div>
      <div> <br>TOTAL BLACK COPIES : {{allAccountDetail.BlackCopies}}<hr></div>

      <div> <br>SINGLE COPIES : {{singleSideCopies1}}<hr></div>

      <div><br>B2B COPIES : {{allAccountDetail.B2bCopies}}<hr></div>

      <div><br>Colour COPIES : {{allAccountDetail.ColourCopies}}<hr></div>

      <div><br>BINDINGS : {{allAccountDetail.Bindings}}<hr></div>
      <div>   <br /> Expense Details :              {{expenseSplit}}           </div>
    </div>
    <ng-template pTemplate="footer">

      <div style="display: grid; grid-template-columns:1fr 1fr 1fr;">


      <div *ngIf="checkWholeSave()">
        <button (click)="saveWholeMonth()" pButton icon="pi pi-save" pRipple type="button" label="Save" class="p-button-rounded"></button>
      </div>

      <div *ngIf="checkMonthSaved()">
        <button (click)="deleteWholeMonth()" pButton icon="pi pi-trash" pRipple type="button" label="Delete" class="p-button-rounded"></button>
      </div>

      <div *ngIf="allDetailIndex==0">

        <button (click)="staticNextClicked()" pButton icon="pi pi-check" pRipple type="button" label="Next" class="p-button-rounded"></button>
      </div>
      <div *ngIf="allDetailIndex==1" style="display: grid; grid-template-columns:1fr 1fr;">
        <div>
          <button (click)="staticBackClicked()" pButton icon="pi pi-check" pRipple type="button" label="Back" class="p-button-rounded"></button>
        </div>

        <div>
          <button (click)="staticNextClicked()" pButton icon="pi pi-check" pRipple type="button" label="Next" class="p-button-rounded"></button>
        </div>


      </div>
      <div *ngIf="allDetailIndex==2">
        <div>
          <button (click)="staticBackClicked()" pButton icon="pi pi-check" pRipple type="button" label="Back" class="p-button-rounded"></button>
        </div>



      </div>
<!-- <div *ngIf="allDetailIndex==0 || allDetailIndex==1 ||  allDetailIndex==2"> -->


<!-- </div> -->
</div>
    </ng-template>
  </p-dialog>

  <p-dialog header="KODAMBAKKAM" [closable]="true" [(visible)]="showDataPrint" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">

    <ng-template pTemplate="body">

      <div class="print-main">
        <div class="date" style="text-align: center;">


          {{kdmAccountDetail.Date | date: 'dd/MM/yyyy' }} | {{kdmAccountDetail.Day}}

        </div>


        <div class="reading-oldstay">

          <div>
            <p>1. Black Reading1 &nbsp;- &nbsp; {{kdmAccountDetail.BlackMachineReading1}} &nbsp;  </p>
            <!-- <br> -->
            <p>2. Black Reading2 &nbsp;- &nbsp; {{kdmAccountDetail.BlackMachineReading2}} &nbsp;  </p>
            <!-- <br> -->

            <p style="font-style: italic">Total Black Copies = {{kdmAccountDetail.BlackCopies}}</p>

            <p>3. Colour Reading1 &nbsp;- &nbsp;  {{kdmAccountDetail.ColourMachineReading1}} &nbsp;  </p>
            <!-- <br> -->
            <!-- <br> -->

            <p style="font-style: italic"> Total Colour Copies = {{kdmAccountDetail.ColourCopies}}</p>

          </div>
          <div style="text-align: right;">
            பழசு இருப்பு :
            <br>
            {{kdmAccountDetail.PastStayDetail}}

            <br>
            <hr>

            பழசு போனது :

            <br>
            {{kdmAccountDetail.PastSoldDetail}}

            <br>
            <hr>
            இன்று இருப்பு :
            <br>
            {{kdmAccountDetail.TodayStayDetail}}

            <br>
            <hr>
            {{kdmAccountDetail.NotesToday}}

            <br>
            <hr>
            <div *ngIf="kdmAccountDetail.isItemsCame">
              Items Came :
              <br>
              {{kdmAccountDetail.ItemsInfo}}
              <hr>
            </div>
          </div>



        </div>
        <div class="a4-oldgone">

          <div>
            A4 PAPER PACKET &nbsp;- &nbsp; {{kdmAccountDetail.PaperPresentToday}}&nbsp; + &nbsp; {{kdmAccountDetail.PaperSheet}} sheets
<br>
            B2B Copies Gone &nbsp;- &nbsp; {{kdmAccountDetail.B2bCopies}}
            <div *ngIf="kdmAccountDetail.isPaperCame">
              PAPER PACKET CAME TODAY &nbsp;- &nbsp; {{kdmAccountDetail.PaperQuantityCame}}
            </div>
            <div *ngIf="kdmAccountDetail.isPaperSent">
              PAPER PACKET SENT &nbsp;- &nbsp; {{kdmAccountDetail.PaperQuantitySent}}
            </div>
          </div>
          <div>
            <!-- பழசு போனது

                <br>
                {{kdmAccountDetail.PastSoldDetail}}

            <br> -->

          </div>


        </div>
        <div class="binding-todaystay">
          <div>
            BINDINGS &nbsp;- &nbsp; {{kdmAccountDetail.Bindings}}
            <br>
            EXPENSE:
            <br>
            Others - {{kdmAccountDetail.TonerSpent}}
            <div *ngIf="kdmLabourDetail.TajPresent">
              Taj 

            </div>
            <div *ngIf="kdmLabourDetail.NoorPresent">
              Noor 

            </div>

          </div>
          <div style="text-align: center;">

            <p> T.A = {{kdmAccountDetail.TonerQuantityCame}} + {{kdmAccountDetail.TonerQuantitySent}} = {{kdmAccountDetail.TotalIncome}}</p>

            <p> O.P= {{kdmAccountDetail.OpeningBalance}} </p>


          </div>


        </div>

        <div class="expense-total">
          <div>
            <!-- EXPENSE:
            <br>
            Others - {{kdmAccountDetail.Expenses}}
            <div *ngIf="kdmLabourDetail.TajPresent">
               Taj - {{bata1}}

            </div>
            <div *ngIf="kdmLabourDetail.NoorPresent">
               Noor - {{bata1 + 150}}

            </div> -->
          </div>
          <div>
            <!-- இன்று இருப்பு
                    <br>
            {{kdmAccountDetail.TodayStayDetail}}

            <br> -->
          </div>






        </div>


      </div>



    </ng-template>




    <ng-template pTemplate="footer">


      <!-- <div  *ngIf="allDetailIndex==0">

          <button  (click)="staticNextClicked()" pButton icon="pi pi-check" pRipple type="button" label="Next" class="p-button-rounded"></button>
          </div>
          <div  *ngIf="allDetailIndex==1">

              <button  (click)="staticBackClicked()" pButton icon="pi pi-check" pRipple type="button" label="Back" class="p-button-rounded"></button>
              </div> -->
    </ng-template>
  </p-dialog>



  <p-dialog class="custom-dialog" header="Kodambakkam Entry" [closable]="true" [(visible)]="isAddAccounts" [modal]="true" [style]="{width: '60vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">
    <ng-template pTemplate="body">

      <div class="field col-12 md:col-4">
        <p-steps [model]="items3"
                 [(activeIndex)]="activeIndex2"
                 [readonly]="true"></p-steps>
        <div *ngIf="activeIndex2==0">
          <div class="accountSection">
            <p-card>
              <p-toolbar>

                <div class="oneRow">
                  <span *ngIf="adminAccess" class="p-float-label">
                    <p-calendar (click)="calenderSelected()" inputId="calendar" [(ngModel)]="date"></p-calendar>
                    <label style="color: white; font-size: 15px;" for="calendar">Date</label>
                  </span>
                  <span *ngIf="!adminAccess" class="p-float-label">
                    <p-calendar (click)="calenderSelected2()" inputId="calendar" [(ngModel)]="date"></p-calendar>
                    <label style="color: white; font-size: 15px;" for="calendar">Date</label>
                  </span>

                  <div *ngIf="showEntryInput || isEditAccount">
                    <p-checkbox name="groupname" (click)="holidayClicked()" value="val1" inputId="binary" [(ngModel)]="isHolidayCheck"></p-checkbox>
                    <label style="color: white;" for="binary">Holiday</label>
                  </div>
                  <div *ngIf="showEntryInput || isEditAccount">
                    <p-checkbox name="groupname" (click)="itemsCame()" value="val2" inputId="binary" [(ngModel)]="itemsCheckBool"></p-checkbox>
                    <label style="color: white;" for="binary">Items Came</label>


                  </div>
                  <p-dialog header="Stock  Details" [(visible)]="itemsCheckBool2" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
                            [resizable]="true">

                    <div>
                      <div>
                        <!-- <i (click)="action3.toggle($event)" class="pi pi-info"></i> -->

                      </div>
                      <div>  <app-copy-money [isItemDetail]="itemDetail" (saveClicked)="itemsGot($event)"></app-copy-money></div>
                    </div>



                  </p-dialog>


                  <div>
                    <button pButton pRipple type="button" (click)="op.toggle($event)" icon="pi pi-percentage" class="p-button-rounded"></button>
                    <p-overlayPanel #op [showCloseIcon]="true">
                      <ng-template pTemplate="body">
                        <app-calcidisplay></app-calcidisplay>
                      </ng-template>
                    </p-overlayPanel>
                  </div>
                </div>
              </p-toolbar>
              <!-- &nbsp; -->
              <br>
              <div class="after-calender" *ngIf="showEntryInput || isEditAccount">

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 10px;">
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" (onInput)="machineblack1($event)" autocomplete="off" [(ngModel)]="blackMachineReading1"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">
                        Black Machine 1
                      </label>
                    </span>
                  </div>
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" (onInput)="machineblack2($event)" autocomplete="off" [(ngModel)]="blackMachineReading2"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Black Machine 2</label>
                    </span>
                  </div>
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" (onInput)="machinecolour1($event)" autocomplete="off" [(ngModel)]="colourMachineReading1"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Colour Machine 1</label>
                    </span>
                  </div>

                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber [disabled]="!isTrustpuram" inputId="inputnumber" (onInput)="machinecolour2($event)" autocomplete="off" [(ngModel)]="colourMachineReading2"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Colour Machine 2</label>
                    </span>
                  </div>
                  <!-- <div class="field col-12 md:col-4">
                      <span class="p-float-label">
                          <p-inputNumber inputId="inputnumber" (input)="machinecolour1()" autocomplete="off" [(ngModel)]="colourMachineReading1"></p-inputNumber>
                          <label style="color: red; font-size: 15px;"  for="inputnumber">Colour Machine 1</label>
                      </span>
                  </div> -->
                </div>

                <div class="columntwo">
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="b2bCopies"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">B2B Copies</label>
                    </span>
                  </div>
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" [readonly]="false" (onInput)="tpmCopiesGone($event)" [disabled]="false" [(ngModel)]="blackCopies"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Total Black Copies</label>
                    </span>
                  </div>

                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" [readonly]="true" [disabled]="true" [(ngModel)]="colourCopies"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Total Colour Copies</label>
                    </span>
                  </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 10px;">
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="bindings"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">பைண்டிங்</label>
                    </span>
                  </div>
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="expenses"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">செலவு</label>
                    </span>
                  </div>

                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" (onInput)="paperCheck($event)" [(ngModel)]="paperPresentToday"></p-inputNumber>
                      <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
                      <label style="color: white; font-size: 15px;" for="inputnumber">Paper Packets</label>
                    </span>
                  </div>

                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber [disabled]="waitingForPacketEntry" inputId="inputnumber" (onInput)="sheetCheck($event)" [(ngModel)]="paperSheet"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Paper Sheets</label>
                    </span>
                  </div>
                  <p-dialog [closable]="true" header="How Many Copies and Paper sheet Gone ?" [(visible)]="showTpmCopies" [style]="{width: '100vw'}">

                    <div style="display:grid; grid-template-rows:1fr 1fr;">

                      <br />
                      <br />
                      <br />
                      <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                          <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="copiesGone"></p-inputNumber>
                          <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
                          <label style=" font-size: 15px;" for="inputnumber">Copies Gone</label>
                        </span>
                      </div>
                      <br />
                      <br />
                      <br />
                      <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                          <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="paperSheetGone"></p-inputNumber>
                          <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
                          <label style=" font-size: 15px;" for="inputnumber">Money</label>
                        </span>
                      </div>

                    </div>

                    <ng-template pTemplate="footer">
                      <div style="display:grid; grid-template-columns:1fr 1fr;">

                        <div>
                          <p-button icon="pi pi-times" (click)="cancelTpmCopy()" label="Canel" styleClass="p-button-raised"></p-button>

                        </div>


                        <div>
                          <p-button icon="pi pi-check" (click)="saveTpmCopy()" label="Save" styleClass="p-button-raised"></p-button>

                        </div>

                      </div>
                    </ng-template>
                  </p-dialog>

                  <p-dialog [closable]="true" header="How Many Paper Recieved ?" [(visible)]="paperRecieved" [style]="{width: '100vw'}">

                    <div>
                      <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                          <p-inputNumber   inputId="inputnumber" autocomplete="off" [(ngModel)]="extraPaperRecieved"></p-inputNumber>
                          <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
                          <label style=" font-size: 15px;" for="inputnumber">Paper Recieved Today</label>
                        </span>
                      </div>

                    </div>

                    <ng-template pTemplate="footer">
                      <p-button icon="pi pi-check" [disabled]="entryPaperCheck()" (click)="paperCalculation()" label="Save" styleClass="p-button-raised"></p-button>
                    </ng-template>
                  </p-dialog>
                </div>


                <div class="columntwo">
                  <div class="field col-12 md:col-4">
                    <!-- <span class="p-float-label">
                        <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="todayStayCopyToday"></p-inputNumber>


                        <label style="color: red; font-size: 15px;"  for="inputnumber">இன்று இருப்பு Copies</label>
                    </span> -->

                    <button pButton (click)="todayStayCheck=true" (click)="getOldDetails()" pRipple type="button" label="இன்று இருப்பு " class="p-button-raised p-button-danger"></button>




                  </div>
                  <!-- (click)="extra.toggle($event)"  -->
                  <!-- <p-overlayPanel #extra>
                  <app-copy-money></app-copy-money>
                                  </p-overlayPanel> -->
                  <div class="field col-12 md:col-4">
                    <!-- <span class="p-float-label">
                        <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="todayStayMoneyToday"></p-inputNumber>
                        <label style="color: red; font-size: 15px;"  for="inputnumber">இன்று இருப்பு பணம்</label>
                    </span> -->

                    <button pButton (click)="oldStayCheck=true" (click)="getOldDetails()" pRipple type="button" label="பழசு இருப்பு " class="p-button-raised p-button-danger"></button>



                  </div>
                  <div class="field col-12 md:col-4">
                    <!-- <span class="p-float-label">
                        <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="gonePastCopyToday"></p-inputNumber>
                        <label style="color: red; font-size: 15px;"  for="inputnumber">பழசு Copies போனது</label>
                    </span> -->

                    <button pButton (click)="oldSoldCheck=true" (click)="getOldDetails()" pRipple type="button" label="பழசு போனது" class="p-button-raised p-button-danger"></button>

                  </div>
                </div>
                <!-- <div class="columntwo">


                    <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                            <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="oldStayCopyToday"></p-inputNumber>
                            <label style="color: red; font-size: 15px;"  for="inputnumber">பழைய இருப்பு Copies</label>
                        </span>
                    </div>
                    <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                            <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="oldStayMoneyToday"></p-inputNumber>
                            <label style="color: red; font-size: 15px;"  for="inputnumber">பழைய இருப்பு பணம்</label>
                        </span>
                    </div>




                    <div class="field col-12 md:col-4">
                        <span class="p-float-label">
                            <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="gonePastMoneyToday"></p-inputNumber>
                            <label style="color: red; font-size: 15px;"  for="inputnumber">பழசு பணம் போனது</label>
                        </span>
                    </div>


                </div> -->
                <div class="columntwo">
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" (onInput)="totalCountCash($event)" [(ngModel)]="cashIncome"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Cash</label>
                    </span>
                  </div>
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" (onInput)="totalCountPaytm($event)" [(ngModel)]="paytmIncome"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Gpay</label>
                    </span>
                  </div>

                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="openingBalance"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber">Opening Balance</label>
                    </span>
                  </div>
                </div>
                <div class="columntwo">
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <!-- <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="notesToday"></p-inputNumber> -->
                      <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="notesToday">
                      <label style="color: white; font-size: 15px;" for="inputnumber">Notes</label>
                    </span>
                  </div>
                  <!-- <div class="field col-12 md:col-4">
                      <span class="p-float-label">
                          <textarea inputId="textarea" rows="3" style="resize: none;" cols="30" [(ngModel)]="cashIncome" pInputTextarea></textarea>
                          <label for="textarea">Notes</label>
                      </span>
                  </div> -->
                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber2" (onInput)="tonerCame($event)" autocomplete="off" [(ngModel)]="toner"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber2">Toner Packet</label>
                    </span>
                  </div>
                  <!--
                              (onInput)="tonerCheck($event)" -->



                  <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber2" [readonly]="true" [disabled]="true" autocomplete="off" [(ngModel)]="totalIncome"></p-inputNumber>
                      <label style="color: white; font-size: 15px;" for="inputnumber2">Total Income</label>
                    </span>
                  </div>
                </div>
                <!-- <div>

                        <button (click)="activeIndex2 = 1" pButton icon="pi pi-check" pRipple type="button" label="Next" class="p-button-rounded"></button>




                </div> -->


              </div>

            </p-card>
          </div>

        </div>
        <div *ngIf="activeIndex2==1">
          <br>
          <br>
          <div class="second-step">
            <div class="taj-attendence">
              <div>
                TAJ ATTENDENCE
              </div>
              <div class="field-radiobutton">
                <p-radioButton name="city" value="present" [(ngModel)]="tajPresentBool" inputId="city1"></p-radioButton>
                <label for="city1">Present</label>
              </div>
              <div class="field-radiobutton">
                <p-radioButton name="city" value="absent" [(ngModel)]="tajPresentBool" inputId="city2"></p-radioButton>
                <label for="city2">Absent</label>
              </div>

              <div class="field-checkbox">
                <p-checkbox [(ngModel)]="isTajHalfDay" [binary]="true" inputId="binary"></p-checkbox>
                <label for="binary">Half Day</label>
              </div>
            </div>
            <br>
            <br>
            <div class="noor-attendence">
              <div>
                NOOR ATTENDENCE
              </div>
              <div class="field-radiobutton">
                <p-radioButton name="city" value="present" [(ngModel)]="noorPresentBool" inputId="city1"></p-radioButton>
                <label for="city1">Present</label>
              </div>
              <div class="field-radiobutton">
                <p-radioButton name="city" value="absent" [(ngModel)]="noorPresentBool" inputId="city2"></p-radioButton>
                <label for="city2">Absent</label>
              </div>

              <div class="field-checkbox">
                <p-checkbox [(ngModel)]="isNoorHalfDay" [binary]="true" inputId="binary"></p-checkbox>
                <label for="binary">Half Day</label>
              </div>
            </div>
            <!--
            <div class="btn-con">

            <div>
                <button (click)="activeIndex2 = 0" pButton icon="pi pi-check" pRipple type="button" label="Back" class="p-button-rounded"></button>

            </div>
            <div>
                <button pButton icon="pi pi-check" pRipple type="button" label="Save" class="p-button-rounded"></button>

            </div>


            </div> -->
          </div>



        </div>
      </div>

      <p-dialog header="இன்று இருப்பு" [(visible)]="todayStayCheck" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
                [draggable]="true" [resizable]="true">
        <div>

          <div>

            <!-- <i (click)="action1.toggle($event)" class="pi pi-info"></i> -->

            <button (click)="action1.toggle($event)" pButton pRipple type="button" icon="pi pi-info" class="p-button-rounded"></button>
            <p-overlayPanel #action1>
              <div>
                Date :    {{beforeDate | date: 'dd/MM/yyyy'}}  &nbsp; Day : {{beforeDay }}
              </div>
              <div class="column">

                <div class="row">
                  <div>
                    இன்று இருப்பு
                  </div>

                  <div>
                    <!-- this.todayStayDetail2 =this.customers[0].TodayStayDetail;
                    this.pastStayDetail2=this.customers[0].PastStayDetail;
                    this.pastSoldDetail2 -->
                    {{todayStayDetail2}}
                  </div>

                </div>

                <br>
                <div class="row">

                  <div>
                    பழசு இருப்பு
                  </div>

                  <div>
                    {{pastStayDetail2}}
                  </div>
                </div>

                <br>
                <div class="row">
                  <div>
                    பழசு போனது
                  </div>

                  <div>
                    {{pastSoldDetail2}}
                  </div>

                </div>
              </div>
            </p-overlayPanel>


          </div>

          <div>
            <app-copy-money [isItemDetail]="stayDetail" (saveClicked)="copyMoneyGot($event)"></app-copy-money>
          </div>
        </div>


      </p-dialog>
      <p-dialog header="பழசு இருப்பு" [(visible)]="oldStayCheck" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
                [draggable]="true" [resizable]="true">
        <div>
          <div>
            <!-- <i (click)="action2.toggle($event)" class="pi pi-info"></i> -->
            <button (click)="action2.toggle($event)" pButton pRipple type="button" icon="pi pi-info" class="p-button-rounded"></button>

            <p-overlayPanel #action2>

              <div>
                Date :    {{beforeDate | date: 'dd/MM/yyyy'}}  &nbsp; Day : {{beforeDay }}
              </div>
              <div class="column">

                <div class="row">
                  <div>
                    இன்று இருப்பு
                  </div>

                  <div>
                    <!-- this.todayStayDetail2 =this.customers[0].TodayStayDetail;
                    this.pastStayDetail2=this.customers[0].PastStayDetail;
                    this.pastSoldDetail2 -->
                    {{todayStayDetail2}}
                  </div>

                </div>
                <div class="row">

                  <div>
                    பழசு இருப்பு
                  </div>

                  <div>
                    {{pastStayDetail2}}
                  </div>
                </div>
                <div class="row">
                  <div>
                    பழசு போனது
                  </div>

                  <div>
                    {{pastSoldDetail2}}
                  </div>

                </div>
              </div>


            </p-overlayPanel>

          </div>
          <div><app-copy-money [isItemDetail]="stayDetail" (saveClicked)="copyMoneyGot($event)"></app-copy-money></div>

        </div>



      </p-dialog>
      <p-dialog header="பழசு போனது" [(visible)]="oldSoldCheck" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
                [draggable]="true" [resizable]="true">

        <div>
          <div>
            <!-- <i (click)="action3.toggle($event)" class="pi pi-info"></i> -->
            <button (click)="action3.toggle($event)" pButton pRipple type="button" icon="pi pi-info" class="p-button-rounded"></button>

            <p-overlayPanel #action3>

              <div>
                Date :    {{beforeDate | date: 'dd/MM/yyyy'}}  &nbsp; Day : {{beforeDay }}
              </div>

              <div class="column">

                <div class="row">
                  <div>
                    இன்று இருப்பு
                  </div>

                  <div>
                    <!-- this.todayStayDetail2 =this.customers[0].TodayStayDetail;
                    this.pastStayDetail2=this.customers[0].PastStayDetail;
                    this.pastSoldDetail2 -->
                    {{todayStayDetail2}}
                  </div>

                </div>
                <div class="row">

                  <div>
                    பழசு இருப்பு
                  </div>

                  <div>
                    {{pastStayDetail2}}
                  </div>
                </div>
                <div class="row">
                  <div>
                    பழசு போனது
                  </div>

                  <div>
                    {{pastSoldDetail2}}
                  </div>

                </div>
              </div>
            </p-overlayPanel>
          </div>
          <div>  <app-copy-money [isItemDetail]="stayDetail" (saveClicked)="copyMoneyGot($event)"></app-copy-money></div>
        </div>



      </p-dialog>


      <p-dialog [closable]="true" header="How Many Toner Packet Recieved ? " [(visible)]="tonerRecieved" [style]="{width: '100vw'}">

        <div>
          <div class="field col-12 md:col-4">
            <span class="p-float-label">
              <p-inputNumber inputId="inputnumber" autocomplete="off" [(ngModel)]="extraTonerRecieved"></p-inputNumber>
              <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
              <label style=" font-size: 15px;" for="inputnumber">Toner Recieved Today</label>
            </span>
          </div>

        </div>

        <ng-template pTemplate="footer">
          <p-button icon="pi pi-check" [disabled]="entryTonerCheck()" (click)="tonerCalculation()" label="Save" styleClass="p-button-raised"></p-button>
        </ng-template>
      </p-dialog>


    </ng-template>
    <ng-template pTemplate="footer">
      <div *ngIf="activeIndex2==1" class="btn-con">

        <div>
          <button (click)="activeIndex2 = 0" pButton icon="pi pi-check" pRipple type="button" label="Back" class="p-button-rounded"></button>

        </div>
        <div>
          <button pButton icon="pi pi-check" (click)="saveAccounts()" [disabled]="checkAttendence()" pRipple type="button" label="Save" class="p-button-rounded"></button>

        </div>


      </div>

      <div *ngIf="activeIndex2==0">

        <button *ngIf="nextCheck('t')" (click)="nextClicked()" pButton icon="pi pi-check" pRipple type="button" label="Next" class="p-button-rounded"></button>

        <p-dialog [closable]="false" header="Paper Sent ?" [(visible)]="askTpmPaperReport" [style]="{width: '50vw'}">

          <!-- <div>
              <div class="field col-12 md:col-4">
                  <span class="p-float-label">
                      <p-inputNumber inputId="inputnumber" autocomplete="off" mode="decimal" [minFractionDigits]="3" [maxFractionDigits]="3" [(ngModel)]="extraPaperRecieved"></p-inputNumber>
                      <label style=" font-size: 15px;"  for="inputnumber">Paper Recieved Today</label>
                  </span>
              </div>

          </div> -->

          <div>
            PAPER SENT TO TRUSTPURAM ?


          </div>
          <br>
          <br>

          <button pButton pRipple type="button" (click)="finalNextButton()" (click)="askTpmPaperReport=false" icon="pi pi-times" label="No" class="p-button-raised"></button>

          <button pButton pRipple type="button" (click)="papersendedToTpm()" icon="pi pi-check" label="Yes" class="p-button-raised"></button>





          <!-- <ng-template pTemplate="footer">
              <p-button icon="pi pi-check" [disabled]="entryPaperCheck()" (click)="paperCalculation()" (click)="paperRecieved=false" label="Save" styleClass="p-button-text"></p-button>
          </ng-template> -->
        </p-dialog>
        <p-dialog [closable]="false" header="How Many Paper Packet to Trustpuram?" [(visible)]="tpmPaperSent" [style]="{width: '100vw'}">

          <div>
            <div class="field col-12 md:col-4">
              <span class="p-float-label">
                <p-inputNumber   inputId="inputnumber" autocomplete="off" [(ngModel)]="paperToTpm"></p-inputNumber>
                <!-- <input type="text" inputId="inputnumber" autocomplete="off" pInputText [(ngModel)]="paperPresentToday"> -->
                <label style=" font-size: 15px;" for="inputnumber">Paper Sent To Trustpuram</label>
              </span>
            </div>

          </div>

          <ng-template pTemplate="footer">
            <p-button icon="pi pi-check" [disabled]="entryPaperCheck2()" (click)="paperCalculationFinal()" label="Save" styleClass="p-button-raised "></p-button>
          </ng-template>
        </p-dialog>

      </div>

    </ng-template>

  </p-dialog>

  <p-dialog header="Labours Data" [(visible)]="labourShow" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
            [draggable]="true" [resizable]="true">

    <ng-template pTemplate="body">

      <p-table #dt1 [value]="labours" dataKey="id"
               [rows]="10"
               [(selection)]="selectedLabours" responsiveLayout="scroll" [rowHover]="true" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" styleClass="p-datatable-gridlines"
               [paginator]="true" [filterDelay]="0" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
               [globalFilterFields]="['name','country.name','representative.name','status']">
        <ng-template pTemplate="caption">
          <div class="flex" style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
            <div>
              <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>

            </div>
            <div class="title-class"><h3>LABOUR SECTION</h3></div>

          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>
              <div class="flex justify-content-center align-items-center">
                Date
                <p-columnFilter type="date" field="Date" display="menu"></p-columnFilter>
              </div>
            </th>
            <th>
              <div class="flex justify-content-center align-items-center">
                Day
                <!-- <p-columnFilter type="text" field="country.name" display="menu"></p-columnFilter> -->
              </div>
            </th>
            <th>
              <div class="flex justify-content-center align-items-center">
                Taj Attendence

              </div>
            </th>
            <th>
              <div class="flex justify-content-center align-items-center">
                Noor Attendence

              </div>
            </th>
            <th>
              <div class="flex justify-content-center align-items-center">
                Taj Expense

              </div>
            </th>
            <th>
              <div class="flex justify-content-center align-items-center">
                Noor Expense

              </div>
            </th>

            <!-- <th>
                <div class="flex justify-content-center align-items-center">
                    Activity

                </div>
            </th> -->
            <th style="width: 8rem">
              <div class="flex justify-content-center align-items-center">
                Actions

              </div>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer>
          <tr>
            <td>
              {{customer.Date | date: 'dd/MM/yyyy'}}
            </td>
            <td>
              {{customer.Day}}
            </td>
          
            <td>
              <span class="image-text">{{customer.TajPresent  }}</span>
            </td>
            <td>
              <span class="image-text">{{customer.NoorPresent}}</span>
            </td>
            <td>
              <span class="image-text">{{customer.TajExpense}}</span>
            </td>
            <td>
              <span class="image-text">{{customer.NoorExpense}}</span>
            </td>

            <!-- <td>
                <p-progressBar [value]="customer.activity" [showValue]="false"></p-progressBar>
            </td> -->
            <td class="text-center">
              <div style="display: grid; grid-template-columns: 1fr 1fr;">
                <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info"></button>
                <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger"></button>
              </div>

            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7">No customers found.</td>
          </tr>
        </ng-template>
      </p-table>


    </ng-template>



  </p-dialog>
</div>

